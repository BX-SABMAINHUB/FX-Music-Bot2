<script>
    async function fetchReviews() {
        try {
            const res = await fetch('/api/get-reviews');
            const reviews = await res.json();
            const list = document.getElementById('reviews-list');
            
            list.innerHTML = reviews.map(r => `
                <div class="review-card">
                    <img src="${r.user_avatar || ''}" class="avatar">
                    <strong>@${r.user || 'Anónimo'}</strong>
                    <div>${"⭐".repeat(r.stars || 0)}</div>
                    <p>${r.message || ''}</p>
                    <small>En: ${r.song || 'Desconocida'}</small>
                </div>
            `).join('');
        } catch (e) {
            document.getElementById('reviews-list').innerHTML = "Error cargando reseñas.";
        }
    }
    setInterval(fetchReviews, 10000);
    fetchReviews();
</script>
